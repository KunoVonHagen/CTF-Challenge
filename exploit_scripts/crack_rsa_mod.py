import math

modulus = 166927954504249


def crack_rsa_modulus(modulus):
    pct = 0
    for p in range(2, math.isqrt(modulus)):
        if int(1000 * p / math.isqrt(modulus)) > pct:
            pct = int(1000 * p / math.isqrt(modulus))
            print(f"{pct/10}%")
        if modulus % p == 0:
            q = modulus // p

            if p * q == modulus:
                return p, q

def get_private_key(p, q, e):
    phi = (p - 1) * (q - 1)
    d = pow(e, -1, phi)
    return d


print(get_private_key(*crack_rsa_modulus(modulus), 65537))
